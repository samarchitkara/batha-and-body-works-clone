var data = [
    {
    img: "https://cdn1.staticans.com/image/data/bbw/18-nov-2021/667554626263.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "Mad About You",
    disc: "Ultra Shea Body Cream",
    strikeoff: "$15.50",
    rate: "Now $3.87",
    p1: "",
    smell: "FRUITY",
    type: "BODY CREAM",
    },
    {
    img: "https://cdn1.staticans.com/image/data/bbw/23-feb-2021/7688572_1.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "Warm Vanilla Sugar",
    disc: "3-in-1 Hair, Face & Body Wash",
    strikeoff: "$14.50",
    rate: "Now $3.62",
    p1: "Mix & Match: Buy 3, Get 3 Free",
    smell: "FRESH",
    type: "ALL",
    },
    {
    img: "https://cdn1.staticans.com/image/data/bbw/10-jan-2022/667554738089.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "Honey Wildflower",
    disc: "Body Lotion",
    strikeoff: "$13.50",
    rate: "Now $3.37",
    p1: "Mix & Match: Buy 3, Get 3 Free",
    smell: "SWEET",
    type: "BODY LOTION",
    },
    {
    img: "https://cdn1.staticans.com/image/data/bbw/10-jan-2022/667555062060.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "Ocean",
    disc: "Body Lotion",
    strikeoff: "$13.50",
    rate: "Now $3.37",
    p1: "",
    smell: "SWEET",
    type: "BODY LOTION",
    },
    {
    img: "https://cdn1.staticans.com/image/data/bbw/18-nov-2021/667553789440.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "Winter Candy Apple",
    disc: "3 in 1 Hair, Face & Body Wash",
    strikeoff: "$0",
    rate: "Now $14.50",
    p1: "",
    smell: "FRESH",
    type: "ALL",
    },
    {
    img: "https://cdn1.staticans.com/image/data/bbw/13-oct-2020/7564938_1.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "Perfect Peony",
    disc: "3 in 1 Hair, Face & Body Wash",
    strikeoff: "$0",
    rate: "Now $13.87",
    p1: "",
    smell: "WOODY",
    type: "ALL",
    },
    {
    img: "https://cdn1.staticans.com/image/data/bbw/27-oct-2021/667554738553.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "A Thousand Wishes",
    disc: "Concentrated Room Spray",
    strikeoff: "$15.50",
    rate: "Now $3.87",
    p1: "Mix & Match: Buy 3, Get 3 Free",
    smell: "FRESH",
    type: "BODY SPRAY",
    },
    {
    img: "https://cdn1.staticans.com/image/data/bbw/27-oct-2021/667554738546.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "Japanese Cherry Blossom",
    disc: "Body Spray",
    strikeoff: "$0",
    rate: "Now $14.50",
    p1: "",
    smell: "WOODY",
    type: "BODY SPRAY",
    },
    {
    img: "https://cdn1.staticans.com/image/data/bbw/27-oct-2021/667554738638.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "Into the Night",
    disc: "3 in 1 Hair, Face & Body Wash",
    strikeoff: "$14.50",
    rate: "Now $3.62",
    p1: "",
    smell: "WOODY",
    type: "ALL",
    },
    {
    img: "https://cdn1.staticans.com/image/data/bbw/14-11-2019/1084048_1.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "Dark Kiss",
    disc: "Hand Sanitizer",
    strikeoff: "$15.50",
    rate: "Now $3.87",
    p1: "",
    smell: "FRESH",
    type: "BODY LOTION",
    },
    {
    img: "https://cdn1.staticans.com/image/data/bbw/30may2019/862844_1.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "Mad About You",
    disc: "Ulitmate Hydration Body Cream",
    strikeoff: "$15.50",
    rate: "Now $3.87",
    p1: "Mix & Match: Buy 3, Get 3 Free",
    smell: "SWEET",
    type: "BODY CREAM",
    },
    {
    img: "https://cdn1.staticans.com/image/data/bbw/27-oct-2021/667554738003.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "Honey Wildflower",
    disc: "Deodrant",
    strikeoff: "$15.50",
    rate: "Now $3.87",
    p1: "Mix & Match: Buy 3, Get 3 Free",
    smell: "WOODY",
    type: "BODY SPRAY",
    },
    {
    img: "https://cdn1.staticans.com/image/data/bbw/21-june-2021/7775360.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "Clean Slate",
    disc: "Gentle Gel Hair Soap",
    strikeoff: "$7.50",
    rate: "Now $3.27",
    p1: "",
    smell: "FRESH",
    type: "BODY CREAM",
    },
    {
    img: "https://cdn1.staticans.com/image/data/bbw/18-nov-2021/667554123434.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "In the Stars",
    disc: "Wallflowers Scent Controlâ„¢ Plug",
    strikeoff: "$0",
    rate: "Now $12.57",
    p1: "",
    smell: "FRUITY",
    type: "BODY SPRAY",
    },
    {
    img: "https://cdn1.staticans.com/image/data/bbw/12-July-2021/7816800.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "Belize Tropical Cabana",
    disc: "Ultimate Hydrogen Body Cream",
    strikeoff: "$0",
    rate: "Now $13.87",
    p1: "",
    smell: "SWEET",
    type: "BODY CREAM",
    },
    {
    img: "https://cdn1.staticans.com/image/data/bbw/27-oct-2021/667554738928.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "A Thousand Wishes",
    disc: "Antiperpirant Deodrant",
    strikeoff: "$15.50",
    rate: "Now $13.87",
    p1: "Mix & Match: Buy 3, Get 3 Free",
    smell: "WOODY",
    type: "BODY SPRAY",
    },
    {
    img: "https://cdn1.staticans.com/image/data/bbw/27-oct-2021/667554738911.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "Japanese Cherry Blossom",
    disc: "Body Lotion",
    strikeoff: "$13.30",
    rate: "Now $3.37",
    p1: "",
    smell: "FRESH",
    type: "BODY LOTION",
    },
    {
    img: "https://cdn1.staticans.com/image/data/bbw/27-oct-2021/667554917255.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "Into the Night",
    disc: "Cologe",
    strikeoff: "$0",
    rate: "Now $39.87",
    p1: "",
    smell: "FRUITY",
    type: "BODY CREAM",
    },
    {
    img: "https://cdn1.staticans.com/image/data/bbw/27-oct-2021/667554766532.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "Gingham",
    disc: "3 in 1 Hair, Face & Body Wash",
    strikeoff: "$15.50",
    rate: "Now $13.87",
    p1: "",
    smell: "SWEET",
    type: "ALL",
    },
    {
    img: "https://cdn1.staticans.com/image/data/bbw/05-apr-2021/7733841_1.jpg?width=228&height=304&mode=fill&fill=blur&format=auto",
    name: "Lavender Vanilla",
    disc: "Gentle Foaming Handsoap",
    strikeoff: "$7.50",
    rate: "Now $6.87",
    p1: "Mix & Match: Buy 3, Get 3 Free",
    smell: "WOODY",
    type: "BODY SOAP",
    },
    // {
    //     img: "",
    //     name: "",
    //     disc: "",
    //     strikeoff: "$15.50",
    //     rate: "Now $3.87",
    //     p1: "",
       // smell: "WOODY",
       // type: "BODY SOAP",
    // },
    ];
    
    
    localStorage.setItem("Data", JSON.stringify(data));
    var mensData = JSON.parse(localStorage.getItem("Data")); 
    
    document.querySelector("#qty").textContent= data.length+" items";
    
    var cartArray = JSON.parse(localStorage.getItem("cartItems")) || [];
    
    createProduct(mensData);
    
    function createProduct(mensData) {
    document.querySelector("#container").innerHTML = "";
    
    mensData.map(function (ele) {
    
    var pro = document.createElement("div");
    pro.setAttribute("class", "product");
    
    var top = document.createElement("div");
    top.setAttribute("id", "top");
    
    var img = document.createElement("img");
    img.setAttribute("src", ele.img);
    
    top.append(img);
    
    var bot1 = document.createElement("div");
    bot1.setAttribute("id", "bottom");
    
    var h3 = document.createElement("h3");
    h3.textContent = ele.name;
    
    var p1 = document.createElement("p");
    p1.setAttribute("id", "disc");
    p1.textContent = ele.disc;
    
    var sttext = document.createElement("div");
    sttext.setAttribute("id", "stText"); 
    
    var h3_2 = document.createElement("h3");
    h3_2.setAttribute("id", "strike");
    h3_2.textContent = ele.strikeoff;
    
    var h3_3 = document.createElement("h3");
    h3_3.setAttribute("id", "rate");
    h3_3.textContent = ele.rate;
    
    sttext.append(h3_2, h3_3);
    
    var p2 = document.createElement("p");
    p2.textContent = ele.p1;
    
    bot1.append(h3, p1, sttext, p2);
    
    var bot2 = document.createElement("div");
    bot2.setAttribute("id", "bottom2");
    
    var imp = document.createElement("input")
    imp.setAttribute("type", "button");
    imp.setAttribute("id", "button");
    imp.value="ADD TO BAG";
    
    imp.addEventListener("click", function() {
       addTOCart(ele);
    });
    
    var str = document.createElement("div");
    str.setAttribute("class", "star");
    
    for(var i = 1; i <= 5; i++) {
       var sp = document.createElement("span");
       sp.setAttribute("id", i+"one");
       sp.setAttribute("class", "fa fa-star fa-3x");
       sp.setAttribute("onclick", "starmark(this)");
       str.append(sp);
    }
    
    
    
    bot2.append(imp, str);
    
    pro.append(top, bot1, bot2);
    
    document.querySelector("#container").append(pro);
    });
    }
    
    function addTOCart(ele) {
    cartArray.push(ele);
    console.log(cartArray);
    localStorage.setItem("cartItems", JSON.stringify(cartArray));
    alert("added to cart");
    }
    
    function starmark(item) {
    var count=item.id[0];
    var subid= item.id.substring(1);
    for(var i=0;i<5;i++) {
       if(i<count) {
           document.getElementById((i+1)+subid).setAttribute("class", "fa fa-star fa-3x checked");
       }
    }
    }
    
    function sort() {
    var val = document.querySelector("#sorttag").value;
    
    if (val == "Low To High") {
    data.sort(function (a, b) {
       return Number(a.rate.substring(5)) - Number(b.rate.substring(5));
    });
    createProduct(data);
    }
    else if (val == "High To Low") {
    data.sort(function (a, b) {
       return Number(b.rate.substring(5)) - Number(a.rate.substring(5));
    });
    createProduct(data);
    } else {
    createProduct(mensData);
    document.querySelector("#qty").textContent= mensData.length+" items";
    }
    }
    
    function smell(){
    var val = document.querySelector("#smellTag").value;
    
    if (val == "FRESH") {
    var arr = data.filter(function (ele) {
       return ele.smell == "FRESH";
    });
    createProduct(arr);
    document.querySelector("#qty").textContent= arr.length+" items";
    } 
    if (val == "FRUITY") {
    var arr = data.filter(function (ele) {
       return ele.smell == "FRUITY";
    });
    createProduct(arr);
    document.querySelector("#qty").textContent= arr.length+" items";
    } 
    if (val == "SWEET") {
    var arr = data.filter(function (ele) {
       return ele.smell == "SWEET";
    });
    createProduct(arr);
    document.querySelector("#qty").textContent= arr.length+" items";
    }
    if (val == "WOODY") {
    var arr = data.filter(function (ele) {
       return ele.smell == "WOODY";
    });
    createProduct(arr);
    document.querySelector("#qty").textContent= arr.length+" items";
    }
    }
    
    function offer(){
    var val = document.querySelector("#offerTag").value;
    
    if (val == "OFFER") {
    var arr = data.filter(function (ele) {
       return ele.p1 !== "";
    });
    createProduct(arr);
    document.querySelector("#qty").textContent= arr.length+" items";
    } 
    if (val == "REGULAR") {
    var arr = data.filter(function (ele) {
       return ele.p1 == "";
    });
    createProduct(arr);
    document.querySelector("#qty").textContent= arr.length+" items";
    } 
    }
    
    function typeT(){
    var val = document.querySelector("#typeTag").value;
    
    if (val == "BODY CREAM") {
    var arr = data.filter(function (ele) {
       return ele.type == "BODY CREAM" || ele.type == "ALL";
    });
    createProduct(arr);
    document.querySelector("#qty").textContent= arr.length+" items";
    } 
    if (val == "BODY LOTION") {
    var arr = data.filter(function (ele) {
       return ele.type == "BODY LOTION" || ele.type == "ALL";
    });
    createProduct(arr);
    document.querySelector("#qty").textContent= arr.length+" items";
    } 
    if (val == "BODY SPRAY") {
    var arr = data.filter(function (ele) {
       return ele.type == "BODY SPRAY" || ele.type == "ALL";
    });
    createProduct(arr);
    document.querySelector("#qty").textContent= arr.length+" items";
    }
    if (val == "BODY SOAP") {
    var arr = data.filter(function (ele) {
       return ele.type == "BODY SOAP" || ele.type == "ALL";
    });
    createProduct(arr);
    document.querySelector("#qty").textContent= arr.length+" items";
    }
    }
    
    document.querySelector("#search + span").addEventListener("click", search);
    
    function search() {
    var res = document.querySelector("#search").value;
    res = res.toLocaleLowerCase();
    
    var arr = data.filter(function (ele) {
    var name = ele.name.toLocaleLowerCase();
    return name.includes(res);
    });
    createProduct(arr);
    document.querySelector("#qty").textContent= arr.length+" items";    
    }
    